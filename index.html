<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dekho Live</title>
<style>
    body { font-family: Arial, sans-serif; margin:0; background:#111; color:white; }
    header { background:#e91e63; padding:15px; text-align:center; font-size:24px; font-weight:bold; }
    .tabs { display:flex; justify-content:center; background:#222; }
    .tab { padding:10px 20px; cursor:pointer; }
    .tab.active { background:#e91e63; }
    .count { background:white; color:black; border-radius:50%; padding:2px 8px; margin-left:5px; }
    .section { padding:10px; }
    .card { background:#1c1c1c; margin:10px 0; padding:10px; border-radius:10px; display:flex; justify-content:space-between; align-items:center; }
    .live-badge { background:red; padding:3px 8px; border-radius:5px; animation: blink 1s infinite; }
    @keyframes blink { 50% {opacity:0.5;} }
    .watch-btn { background:#e91e63; padding:5px 10px; border:none; color:white; border-radius:5px; cursor:pointer; }
    .floating-player { position:fixed; bottom:20px; right:20px; width:300px; background:black; border:2px solid #e91e63; border-radius:10px; display:none; }
    .floating-player video { width:100%; border-radius:10px; }
</style>
</head>
<body>

<header>Dekho Live</header>

<div class="tabs">
    <div class="tab active" onclick="showTab('live')">Live <span id="liveCount" class="count">0</span></div>
    <div class="tab" onclick="showTab('upcoming')">Upcoming <span id="upcomingCount" class="count">0</span></div>
    <div class="tab" onclick="showTab('recent')">Recent <span id="recentCount" class="count">0</span></div>
</div>

<div id="live" class="section"></div>
<div id="upcoming" class="section" style="display:none;"></div>
<div id="recent" class="section" style="display:none;"></div>

<h2 style="padding:10px;">Sports TV</h2>
<div class="section" id="sportsTV"></div>

<h2 style="padding:10px;">Categories</h2>
<div class="section" id="categories"></div>

<div class="floating-player" id="playerBox" draggable="true">
    <video id="player" controls></video>
</div>

<script>
const matches = [
    { id:1, title:"Match 1", start:new Date().getTime() - 1000*60*5, end:new Date().getTime() + 1000*60*10, video:"https://www.w3schools.com/html/mov_bbb.mp4" },
    { id:2, title:"Match 2", start:new Date().getTime() + 1000*60*2, end:new Date().getTime() + 1000*60*12, video:"https://www.w3schools.com/html/mov_bbb.mp4" },
    { id:3, title:"Match 3", start:new Date().getTime() - 1000*60*20, end:new Date().getTime() - 1000*60*5, video:"https://www.w3schools.com/html/mov_bbb.mp4" }
];

const sportsTV = [
    { name:"Sports TV 1" }, { name:"Sports TV 2" }
];

const categories = [
    { name:"Football" }, { name:"Cricket" }
];

function renderData(){
    const now = new Date().getTime();
    let liveHTML = "", upcomingHTML = "", recentHTML = "";
    let liveCount=0, upcomingCount=0, recentCount=0;

    matches.forEach(m=>{
        if(now >= m.start && now <= m.end){
            liveCount++;
            liveHTML += `<div class="card">
                <span>${m.title} <span class="live-badge">LIVE</span></span>
                <button class="watch-btn" onclick="playVideo('${m.video}')">Watch Now</button>
            </div>`;
        } else if(now < m.start){
            upcomingCount++;
            // Upcoming গুলো দেখা যাবে না
        } else if(now > m.end){
            recentCount++;
            recentHTML += `<div class="card"><span>${m.title}</span></div>`;
        }
    });

    document.getElementById('live').innerHTML = liveHTML || "<p>No Live Matches</p>";
    document.getElementById('upcoming').innerHTML = upcomingHTML || "<p>No Upcoming Matches</p>";
    document.getElementById('recent').innerHTML = recentHTML || "<p>No Recent Matches</p>";

    document.getElementById('liveCount').innerText = liveCount;
    document.getElementById('upcomingCount').innerText = upcomingCount;
    document.getElementById('recentCount').innerText = recentCount;
}

function showTab(tab){
    document.querySelectorAll('.section').forEach(s=>s.style.display="none");
    document.getElementById(tab).style.display="block";
    document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
    event.target.classList.add('active');
}

function playVideo(src){
    const playerBox = document.getElementById('playerBox');
    const player = document.getElementById('player');
    player.src = src;
    playerBox.style.display = "block";
}

setInterval(renderData, 1000);
renderData();

// Render Sports TV & Categories
document.getElementById('sportsTV').innerHTML = sportsTV.map(tv=>`<div class="card">${tv.name}</div>`).join("");
document.getElementById('categories').innerHTML = categories.map(c=>`<div class="card">${c.name}</div>`).join("");
</script>

</body>
</html>
