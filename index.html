<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live Events</title>
<style>
body { font-family: Arial, sans-serif; margin:0; background:#111; color:#fff; }
header { display:flex; gap:10px; justify-content:center; padding:10px; background:#222; }
header button { background:#333; border:none; color:#fff; padding:8px 14px; border-radius:6px; cursor:pointer; }
header button.active { background:#ff5722; }
.tab-nav { position:fixed; bottom:0; left:0; width:100%; display:flex; background:#222; }
.tab-nav button { flex:1; background:#333; border:none; padding:12px; color:#fff; cursor:pointer; }
.tab-nav button.active { background:#ff5722; }
.container { padding:80px 10px 60px; display:grid; gap:10px; grid-template-columns:repeat(auto-fill, minmax(250px, 1fr)); }
.card { background:#1e1e1e; border-radius:10px; padding:15px; text-align:center; }
.teams { display:flex; justify-content:space-between; align-items:center; }
.team { width:40%; }
.vs { font-size:24px; font-weight:bold; }
.live-badge { color:#fff; background:red; padding:2px 6px; border-radius:4px; animation: blink 1s infinite; display:inline-block; margin-top:5px; }
@keyframes blink { 50% { opacity:0; } }
.watch-btn { margin-top:10px; padding:8px 14px; background:#ff5722; border:none; border-radius:6px; cursor:pointer; color:#fff; }
.countdown { margin-top:5px; font-size:14px; color:#ccc; }
.ended { margin-top:5px; font-size:14px; color:#aaa; }
.modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); justify-content:center; align-items:center; }
.modal video { max-width:90%; max-height:90%; }
</style>
</head>
<body>

<header>
    <button id="filter-all" class="active">All (<span id="count-all">0</span>)</button>
    <button id="filter-live">Live (<span id="count-live">0</span>)</button>
    <button id="filter-upcoming">Upcoming (<span id="count-upcoming">0</span>)</button>
    <button id="filter-recent">Recent (<span id="count-recent">0</span>)</button>
</header>

<div class="container" id="cards-container"></div>

<div class="tab-nav">
    <button id="tab-events" class="active">Live Events</button>
    <button id="tab-sports">Sports</button>
    <button id="tab-categories">Categories</button>
</div>

<div class="modal" id="video-modal">
    <video id="video-player" controls autoplay></video>
</div>

<script>
const eventsData = [
    { type: 'upcoming', teamA: 'Pakistan', teamB: 'Bangladesh', startTime: Date.now() + 12000, video: 'sample.mp4' },
    { type: 'live', teamA: 'India', teamB: 'West Indies', startTime: Date.Now() + 36000, video: 'sample.mp4' },
    { type: 'recent', teamA: 'New Zealand', teamB: 'South Africa', video: 'sample.mp4' }
];

const sportsChannels = [
    { name: 'Sports TV 1', video: 'sample.mp4' },
    { name: 'Sports TV 2', video: 'sample.mp4' }
];

const iptvChannels = [
    { name: 'IPTV Channel 1', video: 'sample.mp4' },
    { name: 'IPTV Channel 2', video: 'sample.mp4' }
];

let currentTab = 'events';
let currentFilter = 'all';

function renderCards() {
    const container = document.getElementById('cards-container');
    container.innerHTML = '';
    let dataToRender = [];

    if (currentTab === 'events') {
        dataToRender = eventsData.filter(e => currentFilter === 'all' || e.type === currentFilter);
        updateCounts();
        dataToRender.forEach(event => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="teams">
                    <div class="team">${event.teamA}</div>
                    <div>
                        <div class="vs">VS</div>
                        ${event.type === 'live' ? `<div class="live-badge">LIVE</div>` : ''}
                        ${event.type === 'upcoming' ? `<div class="countdown" data-time="${event.startTime}"></div>` : ''}
                        ${event.type === 'recent' ? `<div class="ended">MATCH ENDED</div>` : ''}
                    </div>
                    <div class="team">${event.teamB}</div>
                </div>
                <button class="watch-btn" data-video="${event.video}">WATCH NOW</button>
            `;
            container.appendChild(card);
        });
    } else if (currentTab === 'sports') {
        sportsChannels.forEach(ch => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="team">${ch.name}</div>
                <button class="watch-btn" data-video="${ch.video}">WATCH NOW</button>
            `;
            container.appendChild(card);
        });
    } else if (currentTab === 'categories') {
        iptvChannels.forEach(ch => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="team">${ch.name}</div>
                <button class="watch-btn" data-video="${ch.video}">WATCH NOW</button>
            `;
            container.appendChild(card);
        });
    }
    attachWatchEvents();
}

function updateCounts() {
    document.getElementById('count-all').textContent = eventsData.length;
    document.getElementById('count-live').textContent = eventsData.filter(e => e.type === 'live').length;
    document.getElementById('count-upcoming').textContent = eventsData.filter(e => e.type === 'upcoming').length;
    document.getElementById('count-recent').textContent = eventsData.filter(e => e.type === 'recent').length;
}

function attachWatchEvents() {
    document.querySelectorAll('.watch-btn').forEach(btn => {
        btn.onclick = () => {
            const videoSrc = btn.getAttribute('data-video');
            document.getElementById('video-player').src = videoSrc;
            document.getElementById('video-modal').style.display = 'flex';
        };
    });
}

document.getElementById('video-modal').onclick = () => {
    document.getElementById('video-player').pause();
    document.getElementById('video-modal').style.display = 'none';
};

document.getElementById('filter-all').onclick = () => { currentFilter='all'; setActiveFilter('filter-all'); renderCards(); };
document.getElementById('filter-live').onclick = () => { currentFilter='live'; setActiveFilter('filter-live'); renderCards(); };
document.getElementById('filter-upcoming').onclick = () => { currentFilter='upcoming'; setActiveFilter('filter-upcoming'); renderCards(); };
document.getElementById('filter-recent').onclick = () => { currentFilter='recent'; setActiveFilter('filter-recent'); renderCards(); };

document.getElementById('tab-events').onclick = () => { currentTab='events'; setActiveTab('tab-events'); renderCards(); };
document.getElementById('tab-sports').onclick = () => { currentTab='sports'; setActiveTab('tab-sports'); renderCards(); };
document.getElementById('tab-categories').onclick = () => { currentTab='categories'; setActiveTab('tab-categories'); renderCards(); };

function setActiveFilter(id) {
    document.querySelectorAll('header button').forEach(btn => btn.classList.remove('active'));
    document.getElementById(id).classList.add('active');
}

function setActiveTab(id) {
    document.querySelectorAll('.tab-nav button').forEach(btn => btn.classList.remove('active'));
    document.getElementById(id).classList.add('active');
}

function updateCountdowns() {
    eventsData.forEach(e => {
        if (e.type === 'upcoming') {
            const diff = e.startTime - Date.now();
            if (diff <= 0) {
                e.type = 'live';
            }
        }
    });
    renderCards();
}
setInterval(updateCountdowns, 1000);

renderCards();
</script>
</body>
</html>
